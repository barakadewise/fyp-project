{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>{% block title %} {% endblock %}</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="{%  static 'plugins/fontawesome-free-6/css/all.min.css' %}"
    />
    <!-- Ionicons -->
    <link
      rel="stylesheet"
      href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"
    />
    <!-- DataTables -->
    <link
      rel="stylesheet"
      href="{%  static 'plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}"
    />
    <link
      rel="stylesheet"
      href="{% static 'plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}"
    />
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'dist/css/adminlte.min.css' %}" />
    <!-- Google Font: Source Sans Pro -->
    <link
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700"
      rel="stylesheet"
    />
    <!-- tost links -->
    <link rel="stylesheet" href="{% static 'dist/css/toast/tostr.min.css' %}">

  </head>
  <body>
    {% block content %} 
    {% for message in messages %}
       {% if message.tags == 'success' %}
       <div class="alert alert-success" role="alert">
        {{ message }}
      </div>
      {% elif message.tags == 'error' %}
    <div class="alert alert-danger" role="alert">
      {{ message }}
    </div>

        {% endif %}  
    {% endfor %}
    {% endblock %}

    <!-- ./wrapper -->
    <!-- jQuery -->
    <script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
    <!-- Bootstrap 4 -->
    <script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <!-- DataTables -->
    <script src="{% static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
    <script src="{% static 'plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
    <script src="{% static 'plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
    <!-- AdminLTE App -->
    <script src="{% static 'dist/js/adminlte.min.js' %}"></script>

    <!-- toast -->
    <script src="{% static 'dist/css/toast/tostr.js' %}"></script>
   


    <!-- page script -->
    <script>
      $(function () {
        $("#example1").DataTable({
          responsive: true,
          autoWidth: false,
        });
        $("#example2").DataTable({
          paging: true,
          lengthChange: false,
          searching: true,
          ordering: true,
          info: true,
          autoWidth: false,
          responsive: true,
        });
        // Handle delete button click
        $(".delete-btn").click(function () {
          // Get the data from the row
          var rowData = $(this).closest("tr").find("td:first").text();
          var userId = rowData.trim();

          // Set the user ID in the modal for reference when confirming delete
          $("#confirmDelete").data("user-id", userId);
        });

        // Handle confirm delete button click
        $("#confirmDelete").click(function () {
          // Retrieve the user ID from the modal
          var userId = $(this).data("user-id");

          // Perform your delete action here (you may want to make an AJAX request to the server)
          console.log("Deleting user with ID: " + userId);

          $.ajax({
            url: "{% url 'deleteYouthById' %}",
            type: "POST",
            data: {
              userId: userId,
              csrfmiddlewaretoken: "{{ csrf_token }}",
            },
            success: function (response) {
              window.location.reload();
            },
            error: function (xhr, status, error) {
              // Handle error response
              console.error("Error deleting user:", error);
            },
          });

          // Close the modal
          $("#deleteModal").modal("hide");
        });
      });
    </script>
  </body>
</html>
